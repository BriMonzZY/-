C51 COMPILER V9.60.0.0   MAIN                                                              01/25/2021 22:55:07 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN ..\output\main.obj
COMPILER INVOKED BY: D:\app\keil\C51\BIN\C51.EXE ..\files\main.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT
                    -(.\Listings\main.lst) TABS(2) OBJECT(..\output\main.obj)

line level    source

   1          
   2          
   3          #include "config.h"
   4          #include "key.h"
   5          #include "smg.h"
   6          #include "IIC.h"
   7          
   8          
   9          
  10          uchar key[8] = {15, 15, 0, 0, 0, 0, 0, 0};//显示
  11          //            最左面                最右面
  12          
  13          uchar oldkey[6] = {8, 8, 8, 8, 8, 8};//存储修改的密码以及原始密码
  14          
  15          
  16          
  17          
  18          
  19          void main()
  20          {
  21   1        //uchar addr = 110;//先存最高位
  22   1        //bit judge = 1;//判断密码是否正确(为1时)
  23   1        uchar backup[4][4] = { //初始化按键值备份
  24   1            {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}, {1, 1, 1, 1}};
  25   1        uchar b;
  26   1        
  27   1        
  28   1      
  29   1      
  30   1        timer0Init();
  31   1        while(1){//循环检测 4*4 的矩阵按键
  32   2          b = keydriver();
  33   2          key[7] = b;
  34   2        }
  35   1      
  36   1        
  37   1      }
  38          
  39          
  40          
  41          
  42          
  43          /*清空eeprom程序，暂时使用*/
  44          //if(keyvalue == 15) {
  45          //  
  46          //  write24c02(110, 0);
  47          //  write24c02(111, 0);
  48          //  write24c02(112, 0);
  49          //  write24c02(113, 0);
  50          //  write24c02(114, 0);
  51          //  write24c02(115, 0);
  52          //}
  53          
  54          //if(addr == 116) addr = 110;
C51 COMPILER V9.60.0.0   MAIN                                                              01/25/2021 22:55:07 PAGE 2   

  55          //else {
  56          //  write24c02(addr, keyvalue);
  57          //  addr++;
  58          //}
  59          
  60          
  61          
  62          //for(gg = 3; gg <= 7; gg++) {//执行5次
  63          //  key[gg - 1] = key[gg];
  64          //}
  65          //key[7] = read24c02(addr - 1);
  66                              
  67                              
  68                              
  69          
  70          
  71          /*定时器中断0服务函数，处理数码管扫描，以及按键扫描*/
  72          void timer0() interrupt 1
  73          {
  74   1        static uchar flags;
  75   1        TH0 = 0xfc; //重新加载初值1ms
  76   1        TL0 = 0x66;
  77   1        /*数码管*/  
  78   1        flags++;
  79   1        if(flags == 2) {
  80   2          flags = 0;
  81   2          display(key[0], key[1], key[2], key[3], key[4], key[5], key[6], key[7]);
  82   2        }
  83   1        keyscan();
  84   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    161    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =     15      16
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
